{% extends "base.html" %}
{% block file_upload_block %}
<div class='items-center font-bold font-mono bg-yellow-300 px-8 mt-4 rounded-md pt-4'>
    <h1 class='text-center text-4xl text-gray-500 '>File Upload Form</h1>
    <form action='' method='POST' enctype="multipart/form-data">
        {% csrf_token %}
        <div>
            {% for field  in form  %}
            <div class='flex-initial'>
            {{field.label }}
            </div>
            <div class='flex flex-row '>
            <div class='flex-auto '>
            {{field }}
            </div>
            </div>
            {% endfor %}
        </div>
        <div class='font-bold font-mono bg-yellow-300 p-2 mx-2 rounded-md '>    
            <div class='flex-1'>
            <button
            type="submit"
            value="Submit"
            name='save'
            class="bg-green-500 rounded-md w-full p-2"
            >Upload Your File</button>
            </div>
            </div>
            </br>
        </div>
    </form>
    <div class='mt-4'>
        <div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'>
            {% for image in data %}
            <div class='col-span-1 '>
            
            <div class='flex-1 border border-gray-100 rounded-md'>
                <img src="{{image.image_data.url}}", alt={{image.file_name}} class='h-96 w-full'>
            </div>
            <div class='flex-1 text-center bg-blue-300 mt-2'>
                <h4>{{image.file_name}}</h4>
            </div>
            <div class='flex-1 mt-2'> 
            <div class='grid grid-flow-col col-span-2 gap-x-1'>
                <div class='col-span-1 bg-slate-400'>
                
                    <button class='bg-blue-400  border border-slate-600 w-full h-full' name="delete"><a href="{% url "delete-file" image.id %}">Delete</a></button>
              
                </div>
                <div class='col-span-1 bg-green-200'>
                    <button class='bg-blue-400  border border-slate-600 w-full h-full' name="update"><a href="{% url "update-file" image.id %}">Update</a></button>
                </div>
            </div>
            </div>
            </div>
            {% endfor %}
        </div>   
    </div>
    {% comment %} {% include "./Untitled-1.html" %} {% endcomment %}
    </div>
{% endblock file_upload_block %}